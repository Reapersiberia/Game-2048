* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    -webkit-text-size-adjust: 100%;
}

body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    min-height: 100dvh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: max(20px, env(safe-area-inset-top)) max(20px, env(safe-area-inset-right)) max(20px, env(safe-area-inset-bottom)) max(20px, env(safe-area-inset-left));
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    overflow-x: hidden;
}

.container {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    max-width: 500px;
    width: 100%;
    overflow-x: hidden;
}

h1 {
    text-align: center;
    color: #776e65;
    font-size: 48px;
    margin-bottom: 20px;
    font-weight: bold;
}

.score-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    gap: 10px;
}


.score-box {
    background: #bbada0;
    border-radius: 6px;
    padding: 10px 20px;
    text-align: center;
    min-width: 120px;
}

.score-label {
    color: #eee4da;
    font-size: 13px;
    font-weight: bold;
    text-transform: uppercase;
}

.score-value {
    color: white;
    font-size: 25px;
    font-weight: bold;
}

.new-game-btn {
    background: #8f7a66;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 10px 20px;
    min-height: 44px;
    min-width: 44px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.new-game-btn:hover {
    background: #9f8a76;
}

.gm-tx-display {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 6px;
    padding: 8px 12px;
    text-align: center;
}

.gm-tx-link {
    color: white;
    font-size: 12px;
    font-weight: bold;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 4px;
}

.gm-tx-link:hover {
    text-decoration: underline;
}

.transaction-display {
    background: #8f7a66;
    border-radius: 6px;
    padding: 10px 15px;
    text-align: center;
    min-width: 120px;
    flex: 0 0 auto;
    cursor: pointer;
    transition: all 0.3s ease;
}

.transaction-display:hover {
    background: #9f8a76;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.transaction-label {
    color: #eee4da;
    font-size: 13px;
    font-weight: bold;
    text-transform: uppercase;
    margin-bottom: 4px;
}

.transaction-value {
    color: white;
    font-size: 14px;
    font-weight: bold;
    font-family: monospace;
    cursor: pointer;
    word-break: break-all;
    transition: opacity 0.3s;
}

.transaction-value:hover {
    opacity: 0.8;
    text-decoration: underline;
}


.game-container {
    position: relative;
    background: #bbada0;
    border-radius: 6px;
    padding: 10px;
    margin-bottom: 20px;
    touch-action: none;
    -webkit-user-select: none;
    user-select: none;
}

.grid-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(4, 1fr);
    gap: 10px;
    position: relative;
    contain: layout style;
    will-change: contents;
}

.cell {
    background: #cdc1b4;
    border-radius: 3px;
    aspect-ratio: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 35px;
    font-weight: bold;
    color: #776e65;
    transition: all 0.15s ease-in-out;
    position: relative;
    overflow: hidden;
}

/* –ü–∏–∫—Å–µ–ª—å–Ω–∞—è —Ç—Ä–∞–≤–∫–∞ —Å –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ–º */
.cell::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 20%;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent 0px,
            transparent 2px,
            #3d8c40 2px,
            #3d8c40 4px,
            transparent 4px,
            transparent 8px
        ),
        linear-gradient(to top, 
            #2d5a1e 0%,
            #3d8c40 30%,
            #4aba4f 60%,
            #6ed86e 80%,
            transparent 100%
        );
    border-radius: 0 0 3px 3px;
    z-index: 0;
    animation: grassSway 2s ease-in-out infinite;
}

/* –í—Ç–æ—Ä–æ–π —Å–ª–æ–π —Ç—Ä–∞–≤–∏–Ω–æ–∫ */
.cell::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 12%;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent 0px,
            transparent 6px,
            #4aba4f 6px,
            #4aba4f 8px,
            transparent 8px,
            transparent 12px
        );
    z-index: 1;
    animation: grassSway 2.5s ease-in-out infinite reverse;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏—è */
@keyframes grassSway {
    0%, 100% { transform: skewX(0deg); }
    25% { transform: skewX(2deg); }
    75% { transform: skewX(-2deg); }
}

.tile {
    background: rgba(238, 228, 218, 0.2);
    border-radius: 3px;
    aspect-ratio: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: absolute;
    transition: transform 0.12s ease-out, opacity 0.12s ease-out;
    animation: appear 0.15s ease-out;
    overflow: hidden;
    border: 1px solid rgba(0, 0, 0, 0.1);
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* –ü–∏–∫—Å–µ–ª—å–Ω–∞—è —Ç—Ä–∞–≤–∫–∞ –ø–æ–¥ –ø–æ–∫–µ–º–æ–Ω–æ–º */
.tile::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 22%;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent 0px,
            transparent 3px,
            #2d7a30 3px,
            #2d7a30 5px,
            transparent 5px,
            transparent 10px
        ),
        linear-gradient(to top, 
            #1e4d20 0%,
            #2d7a30 25%,
            #3d9a40 50%,
            #5dc85d 75%,
            transparent 100%
        );
    border-radius: 0 0 3px 3px;
    z-index: 0;
    animation: grassSway 1.8s ease-in-out infinite;
}

/* –í—Ç–æ—Ä–æ–π —Å–ª–æ–π —Ç—Ä–∞–≤–∏–Ω–æ–∫ –Ω–∞ —Ç–∞–π–ª–µ */
.tile::before {
    content: '';
    position: absolute;
    bottom: 2%;
    left: 0;
    right: 0;
    height: 10%;
    background: 
        repeating-linear-gradient(
            90deg,
            transparent 0px,
            transparent 8px,
            #5dc85d 8px,
            #5dc85d 10px,
            transparent 10px,
            transparent 14px
        );
    z-index: 4;
    animation: grassSway 2.2s ease-in-out infinite reverse;
}

.pokemon-sprite {
    width: 90%;
    height: 85%;
    object-fit: contain;
    position: absolute;
    top: 0;
    left: 5%;
    z-index: 2;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.3));
}

.tile-number {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 32px;
    font-weight: 900;
    color: #0052FF;
    z-index: 2;
    text-align: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    letter-spacing: 1px;
    text-shadow: 
        3px 3px 6px rgba(255, 255, 255, 1),
        -2px -2px 4px rgba(255, 255, 255, 1),
        2px -2px 4px rgba(255, 255, 255, 1),
        -2px 2px 4px rgba(255, 255, 255, 1),
        0 0 10px rgba(255, 255, 255, 0.8),
        0 0 20px rgba(0, 82, 255, 0.4);
    pointer-events: none;
}

@keyframes appear {
    from {
        transform: scale(0);
    }
    to {
        transform: scale(1);
    }
}

/* ============================================ */
/* –°–ò–°–¢–ï–ú–ê –°–¢–ò–•–ò–ô –ü–û–ö–ï–ú–û–ù–û–í */
/* ============================================ */

/* –ë–∞–∑–æ–≤—ã–µ —Ü–≤–µ—Ç–∞ –ø–ª–∏—Ç–æ–∫ */
.tile-2 { background: rgba(238, 228, 218, 0.3); }
.tile-4 { background: rgba(237, 224, 200, 0.3); }
.tile-8 { background: rgba(242, 177, 121, 0.3); }
.tile-16 { background: rgba(245, 149, 99, 0.3); }
.tile-32 { background: rgba(246, 124, 95, 0.3); }
.tile-64 { background: rgba(246, 94, 59, 0.3); }
.tile-128 { background: rgba(237, 207, 114, 0.3); }
.tile-256 { background: rgba(237, 204, 97, 0.3); }
.tile-512 { background: rgba(237, 200, 80, 0.3); }
.tile-1024 { background: rgba(237, 197, 63, 0.3); }
.tile-2048 { background: rgba(237, 194, 46, 0.3); }
.tile-super { background: rgba(60, 58, 50, 0.3); }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: NORMAL (2-16) */
/* ============================================ */
.element-normal {
    background: linear-gradient(135deg, rgba(168, 168, 120, 0.4) 0%, rgba(200, 200, 170, 0.4) 100%) !important;
    border: 2px solid rgba(168, 168, 120, 0.6) !important;
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: FIRE (32-64) üî• */
/* ============================================ */
.element-fire {
    background: linear-gradient(135deg, rgba(240, 128, 48, 0.5) 0%, rgba(255, 80, 0, 0.5) 100%) !important;
    border: 2px solid #F08030 !important;
    animation: fireGlow 0.8s ease-in-out infinite alternate;
    box-shadow: 0 0 15px rgba(255, 100, 0, 0.6), inset 0 0 20px rgba(255, 200, 100, 0.3);
}

.element-fire .pokemon-sprite {
    animation: fireShake 0.15s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(255, 100, 0, 0.8));
}

.element-fire .tile-number {
    color: #FF4500 !important;
    text-shadow: 
        2px 2px 4px rgba(255, 255, 255, 1),
        0 0 10px rgba(255, 100, 0, 0.8),
        0 0 20px rgba(255, 50, 0, 0.6) !important;
}

@keyframes fireGlow {
    0% { box-shadow: 0 0 15px rgba(255, 100, 0, 0.6), inset 0 0 20px rgba(255, 200, 100, 0.3); }
    100% { box-shadow: 0 0 25px rgba(255, 50, 0, 0.8), inset 0 0 30px rgba(255, 150, 50, 0.5); }
}

@keyframes fireShake {
    0%, 100% { transform: translateX(0) rotate(-1deg); }
    50% { transform: translateX(1px) rotate(1deg); }
}

/* –ß–∞—Å—Ç–∏—Ü—ã –æ–≥–Ω—è */
.particles-fire {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: 3;
}

.particles-fire::before,
.particles-fire::after {
    content: 'üî•';
    position: absolute;
    font-size: 12px;
    animation: fireParticle 1s ease-out infinite;
    opacity: 0;
}

.particles-fire::before {
    left: 20%;
    animation-delay: 0s;
}

.particles-fire::after {
    left: 60%;
    animation-delay: 0.5s;
}

@keyframes fireParticle {
    0% { bottom: 10%; opacity: 1; transform: scale(0.5); }
    100% { bottom: 90%; opacity: 0; transform: scale(1) translateX(10px); }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: WATER (128-256) üíß */
/* ============================================ */
.element-water {
    background: linear-gradient(135deg, rgba(104, 144, 240, 0.5) 0%, rgba(0, 100, 200, 0.5) 100%) !important;
    border: 2px solid #6890F0 !important;
    animation: waterWave 2s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(100, 150, 255, 0.6), inset 0 0 20px rgba(150, 200, 255, 0.3);
}

.element-water .pokemon-sprite {
    animation: waterBob 1.5s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(100, 150, 255, 0.8));
}

.element-water .tile-number {
    color: #0066CC !important;
    text-shadow: 
        2px 2px 4px rgba(255, 255, 255, 1),
        0 0 10px rgba(100, 150, 255, 0.8),
        0 0 20px rgba(0, 100, 200, 0.6) !important;
}

@keyframes waterWave {
    0%, 100% { 
        box-shadow: 0 0 15px rgba(100, 150, 255, 0.6), inset 0 0 20px rgba(150, 200, 255, 0.3);
        transform: scale(1);
    }
    50% { 
        box-shadow: 0 0 25px rgba(50, 100, 255, 0.8), inset 0 0 30px rgba(100, 180, 255, 0.5);
        transform: scale(1.02);
    }
}

@keyframes waterBob {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
}

/* –ß–∞—Å—Ç–∏—Ü—ã –≤–æ–¥—ã */
.particles-water::before,
.particles-water::after {
    content: 'üíß';
    position: absolute;
    font-size: 10px;
    animation: waterDrop 1.5s ease-in infinite;
    opacity: 0;
}

.particles-water::before {
    left: 30%;
    animation-delay: 0s;
}

.particles-water::after {
    left: 70%;
    animation-delay: 0.7s;
}

@keyframes waterDrop {
    0% { top: 10%; opacity: 1; }
    100% { top: 80%; opacity: 0; }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: ELECTRIC (512-1024) ‚ö° */
/* ============================================ */
.element-electric {
    background: linear-gradient(135deg, rgba(248, 208, 48, 0.5) 0%, rgba(255, 230, 0, 0.5) 100%) !important;
    border: 2px solid #F8D030 !important;
    animation: electricSpark 0.3s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(255, 230, 0, 0.7), inset 0 0 25px rgba(255, 255, 150, 0.4);
}

.element-electric .pokemon-sprite {
    animation: electricZap 0.1s ease-in-out infinite;
    filter: drop-shadow(0 0 10px rgba(255, 230, 0, 0.9)) brightness(1.1);
}

.element-electric .tile-number {
    color: #CC9900 !important;
    text-shadow: 
        2px 2px 4px rgba(255, 255, 255, 1),
        0 0 15px rgba(255, 230, 0, 1),
        0 0 30px rgba(255, 200, 0, 0.8) !important;
    animation: electricFlicker 0.2s ease-in-out infinite;
}

@keyframes electricSpark {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(255, 230, 0, 0.7), inset 0 0 25px rgba(255, 255, 150, 0.4);
    }
    50% { 
        box-shadow: 0 0 35px rgba(255, 230, 0, 1), inset 0 0 40px rgba(255, 255, 200, 0.6);
    }
}

@keyframes electricZap {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
}

@keyframes electricFlicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.9; }
}

/* –ß–∞—Å—Ç–∏—Ü—ã —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞ */
.particles-electric::before,
.particles-electric::after {
    content: '‚ö°';
    position: absolute;
    font-size: 14px;
    animation: electricBolt 0.5s ease-out infinite;
    opacity: 0;
}

.particles-electric::before {
    left: 15%;
    top: 20%;
}

.particles-electric::after {
    right: 15%;
    bottom: 20%;
    animation-delay: 0.25s;
}

@keyframes electricBolt {
    0% { opacity: 0; transform: scale(0.5); }
    50% { opacity: 1; transform: scale(1.2); }
    100% { opacity: 0; transform: scale(0.5); }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: GRASS (2048-4096) üåø */
/* ============================================ */
.element-grass {
    background: linear-gradient(135deg, rgba(120, 200, 80, 0.5) 0%, rgba(60, 150, 40, 0.5) 100%) !important;
    border: 2px solid #78C850 !important;
    animation: grassGrow 2s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(100, 180, 80, 0.6), inset 0 0 20px rgba(150, 220, 100, 0.3);
}

.element-grass .pokemon-sprite {
    animation: grassSway 2s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(100, 180, 80, 0.8));
}

.element-grass .tile-number {
    color: #228B22 !important;
    text-shadow: 
        2px 2px 4px rgba(255, 255, 255, 1),
        0 0 10px rgba(100, 200, 100, 0.8),
        0 0 20px rgba(50, 150, 50, 0.6) !important;
}

@keyframes grassGrow {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
}

/* –ß–∞—Å—Ç–∏—Ü—ã —Ç—Ä–∞–≤—ã */
.particles-grass::before,
.particles-grass::after {
    content: 'üçÉ';
    position: absolute;
    font-size: 12px;
    animation: leafFloat 2s ease-in-out infinite;
    opacity: 0;
}

.particles-grass::before {
    left: 10%;
    animation-delay: 0s;
}

.particles-grass::after {
    right: 10%;
    animation-delay: 1s;
}

@keyframes leafFloat {
    0% { top: 80%; opacity: 0; transform: rotate(0deg); }
    50% { opacity: 1; }
    100% { top: 10%; opacity: 0; transform: rotate(180deg); }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: ICE (8192-16384) ‚ùÑÔ∏è */
/* ============================================ */
.element-ice {
    background: linear-gradient(135deg, rgba(152, 216, 216, 0.6) 0%, rgba(100, 180, 220, 0.6) 100%) !important;
    border: 2px solid #98D8D8 !important;
    animation: iceShimmer 1.5s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(150, 220, 255, 0.7), inset 0 0 25px rgba(200, 240, 255, 0.4);
}

.element-ice .pokemon-sprite {
    animation: iceFloat 2s ease-in-out infinite;
    filter: drop-shadow(0 0 10px rgba(150, 220, 255, 0.9)) brightness(1.1);
}

.element-ice .tile-number {
    color: #4169E1 !important;
    text-shadow: 
        2px 2px 4px rgba(255, 255, 255, 1),
        0 0 15px rgba(150, 220, 255, 1),
        0 0 25px rgba(100, 180, 255, 0.8) !important;
}

@keyframes iceShimmer {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(150, 220, 255, 0.7), inset 0 0 25px rgba(200, 240, 255, 0.4);
        filter: brightness(1);
    }
    50% { 
        box-shadow: 0 0 30px rgba(180, 240, 255, 0.9), inset 0 0 35px rgba(220, 250, 255, 0.6);
        filter: brightness(1.1);
    }
}

@keyframes iceFloat {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-4px) rotate(2deg); }
}

/* –ß–∞—Å—Ç–∏—Ü—ã –ª—å–¥–∞ */
.particles-ice::before,
.particles-ice::after {
    content: '‚ùÑÔ∏è';
    position: absolute;
    font-size: 10px;
    animation: snowfall 2s linear infinite;
    opacity: 0;
}

.particles-ice::before {
    left: 20%;
    animation-delay: 0s;
}

.particles-ice::after {
    left: 70%;
    animation-delay: 1s;
}

@keyframes snowfall {
    0% { top: 0; opacity: 1; transform: translateX(0) rotate(0deg); }
    100% { top: 80%; opacity: 0; transform: translateX(10px) rotate(180deg); }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: ROCK (32768-65536) ü™® */
/* ============================================ */
.element-rock {
    background: linear-gradient(135deg, rgba(184, 160, 56, 0.5) 0%, rgba(140, 110, 40, 0.5) 100%) !important;
    border: 3px solid #B8A038 !important;
    animation: rockTremble 0.15s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(180, 150, 80, 0.6), inset 0 0 20px rgba(200, 180, 100, 0.3);
}

.element-rock .pokemon-sprite {
    animation: rockShake 0.2s ease-in-out infinite;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
}

.element-rock .tile-number {
    color: #8B4513 !important;
    text-shadow: 
        3px 3px 5px rgba(255, 255, 255, 1),
        0 0 10px rgba(180, 150, 80, 0.8),
        0 0 15px rgba(140, 110, 40, 0.6) !important;
    font-weight: 900 !important;
}

@keyframes rockTremble {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(-1px, 0); }
    75% { transform: translate(1px, 0); }
}

@keyframes rockShake {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(1px); }
}

/* –ß–∞—Å—Ç–∏—Ü—ã –∫–∞–º–Ω—è */
.particles-rock::before,
.particles-rock::after {
    content: 'üí•';
    position: absolute;
    font-size: 10px;
    animation: rockCrumble 1s ease-out infinite;
    opacity: 0;
}

.particles-rock::before {
    left: 25%;
    bottom: 20%;
}

.particles-rock::after {
    right: 25%;
    bottom: 30%;
    animation-delay: 0.5s;
}

@keyframes rockCrumble {
    0% { opacity: 1; transform: scale(0.5); }
    100% { opacity: 0; transform: scale(1) translateY(10px); }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: PSYCHIC (131072-262144) üîÆ */
/* ============================================ */
.element-psychic {
    background: linear-gradient(135deg, rgba(248, 88, 136, 0.5) 0%, rgba(180, 60, 180, 0.5) 100%) !important;
    border: 2px solid #F85888 !important;
    animation: psychicPulse 1s ease-in-out infinite;
    box-shadow: 0 0 25px rgba(250, 100, 150, 0.7), inset 0 0 30px rgba(255, 150, 200, 0.4);
}

.element-psychic .pokemon-sprite {
    animation: psychicFloat 2s ease-in-out infinite;
    filter: drop-shadow(0 0 12px rgba(250, 100, 150, 0.9)) hue-rotate(10deg);
}

.element-psychic .tile-number {
    color: #9932CC !important;
    text-shadow: 
        2px 2px 4px rgba(255, 255, 255, 1),
        0 0 15px rgba(250, 100, 200, 1),
        0 0 30px rgba(180, 60, 180, 0.8) !important;
    animation: psychicGlow 1s ease-in-out infinite alternate;
}

@keyframes psychicPulse {
    0%, 100% { 
        box-shadow: 0 0 25px rgba(250, 100, 150, 0.7), inset 0 0 30px rgba(255, 150, 200, 0.4);
        transform: scale(1);
    }
    50% { 
        box-shadow: 0 0 40px rgba(250, 100, 200, 0.9), inset 0 0 45px rgba(255, 180, 220, 0.6);
        transform: scale(1.02);
    }
}

@keyframes psychicFloat {
    0%, 100% { transform: translateY(0) rotate(-3deg); }
    50% { transform: translateY(-5px) rotate(3deg); }
}

@keyframes psychicGlow {
    0% { text-shadow: 2px 2px 4px rgba(255, 255, 255, 1), 0 0 15px rgba(250, 100, 200, 1); }
    100% { text-shadow: 2px 2px 4px rgba(255, 255, 255, 1), 0 0 25px rgba(250, 100, 200, 1), 0 0 40px rgba(180, 60, 180, 0.8); }
}

/* –ß–∞—Å—Ç–∏—Ü—ã –ø—Å–∏—Ö–∏–∫–∏ */
.particles-psychic::before,
.particles-psychic::after {
    content: '‚ú®';
    position: absolute;
    font-size: 12px;
    animation: psychicSparkle 1.5s ease-in-out infinite;
    opacity: 0;
}

.particles-psychic::before {
    top: 20%;
    left: 20%;
}

.particles-psychic::after {
    bottom: 20%;
    right: 20%;
    animation-delay: 0.75s;
}

@keyframes psychicSparkle {
    0%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
    50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: DRAGON (524288+) üêâ */
/* ============================================ */
.element-dragon {
    background: linear-gradient(135deg, rgba(112, 56, 248, 0.6) 0%, rgba(80, 0, 180, 0.6) 100%) !important;
    border: 3px solid #7038F8 !important;
    animation: dragonAura 1.2s ease-in-out infinite;
    box-shadow: 0 0 30px rgba(120, 60, 255, 0.8), 0 0 60px rgba(80, 0, 180, 0.5), inset 0 0 35px rgba(180, 100, 255, 0.4);
}

.element-dragon .pokemon-sprite {
    animation: dragonRoar 0.8s ease-in-out infinite;
    filter: drop-shadow(0 0 15px rgba(120, 60, 255, 1)) brightness(1.15);
}

.element-dragon .tile-number {
    color: #4B0082 !important;
    text-shadow: 
        3px 3px 6px rgba(255, 255, 255, 1),
        0 0 20px rgba(120, 60, 255, 1),
        0 0 40px rgba(80, 0, 180, 0.9),
        0 0 60px rgba(150, 100, 255, 0.7) !important;
    animation: dragonPower 0.8s ease-in-out infinite alternate;
}

@keyframes dragonAura {
    0%, 100% { 
        box-shadow: 0 0 30px rgba(120, 60, 255, 0.8), 0 0 60px rgba(80, 0, 180, 0.5), inset 0 0 35px rgba(180, 100, 255, 0.4);
        transform: scale(1);
    }
    50% { 
        box-shadow: 0 0 50px rgba(150, 80, 255, 1), 0 0 80px rgba(100, 20, 200, 0.7), inset 0 0 50px rgba(200, 150, 255, 0.6);
        transform: scale(1.03);
    }
}

@keyframes dragonRoar {
    0%, 100% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.05) rotate(-2deg); }
    75% { transform: scale(1.05) rotate(2deg); }
}

@keyframes dragonPower {
    0% { transform: scale(1); }
    100% { transform: scale(1.1); }
}

/* –ß–∞—Å—Ç–∏—Ü—ã –¥—Ä–∞–∫–æ–Ω–∞ */
.particles-dragon::before,
.particles-dragon::after {
    content: 'üî•';
    position: absolute;
    font-size: 14px;
    animation: dragonFlame 0.8s ease-out infinite;
    opacity: 0;
}

.particles-dragon::before {
    left: 10%;
    bottom: 30%;
    content: 'üíú';
}

.particles-dragon::after {
    right: 10%;
    top: 30%;
    content: '‚≠ê';
    animation-delay: 0.4s;
}

@keyframes dragonFlame {
    0% { opacity: 0; transform: scale(0.3) rotate(0deg); }
    50% { opacity: 1; transform: scale(1) rotate(180deg); }
    100% { opacity: 0; transform: scale(0.3) rotate(360deg); }
}

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: POISON ‚ò†Ô∏è */
/* ============================================ */
.element-poison {
    background: linear-gradient(135deg, rgba(160, 64, 160, 0.5) 0%, rgba(100, 40, 130, 0.5) 100%) !important;
    border: 2px solid #A040A0 !important;
    animation: poisonBubble 1s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(160, 64, 160, 0.6), inset 0 0 25px rgba(200, 100, 200, 0.3);
}
.element-poison .pokemon-sprite { animation: poisonWobble 0.8s ease-in-out infinite; filter: drop-shadow(0 0 8px rgba(160, 64, 160, 0.8)) hue-rotate(-10deg); }
.element-poison .tile-number { color: #8B008B !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 15px rgba(160, 64, 160, 0.9) !important; }
@keyframes poisonBubble { 0%,100% { transform: scale(1); } 50% { transform: scale(1.02); } }
@keyframes poisonWobble { 0%,100% { transform: rotate(-2deg); } 50% { transform: rotate(2deg); } }
.particles-poison::before, .particles-poison::after { content: 'üíÄ'; position: absolute; font-size: 10px; animation: poisonRise 1.5s ease-out infinite; opacity: 0; }
.particles-poison::before { left: 20%; } .particles-poison::after { left: 70%; animation-delay: 0.7s; }
@keyframes poisonRise { 0% { bottom: 10%; opacity: 1; } 100% { bottom: 90%; opacity: 0; } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: GROUND üåç */
/* ============================================ */
.element-ground {
    background: linear-gradient(135deg, rgba(224, 192, 104, 0.5) 0%, rgba(180, 140, 60, 0.5) 100%) !important;
    border: 3px solid #E0C068 !important;
    animation: groundQuake 0.2s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(200, 160, 80, 0.6), inset 0 0 20px rgba(220, 180, 100, 0.3);
}
.element-ground .pokemon-sprite { animation: groundShake 0.15s ease-in-out infinite; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4)); }
.element-ground .tile-number { color: #8B6914 !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 10px rgba(200,160,80,0.8) !important; }
@keyframes groundQuake { 0%,100% { transform: translate(0,0); } 50% { transform: translate(1px, 1px); } }
@keyframes groundShake { 0%,100% { transform: translateY(0); } 50% { transform: translateY(2px); } }
.particles-ground::before, .particles-ground::after { content: 'üåã'; position: absolute; font-size: 12px; animation: groundErupt 1s ease-out infinite; opacity: 0; }
@keyframes groundErupt { 0% { bottom: 20%; opacity: 1; } 100% { bottom: 80%; opacity: 0; } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: FLYING ü¶Ö */
/* ============================================ */
.element-flying {
    background: linear-gradient(135deg, rgba(168, 144, 240, 0.5) 0%, rgba(120, 180, 255, 0.5) 100%) !important;
    border: 2px solid #A890F0 !important;
    animation: flyingFloat 2s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(168, 144, 240, 0.6), inset 0 0 25px rgba(200, 180, 255, 0.3);
}
.element-flying .pokemon-sprite { animation: flyingSoar 1.5s ease-in-out infinite; filter: drop-shadow(0 0 10px rgba(168, 144, 240, 0.8)); }
.element-flying .tile-number { color: #6A5ACD !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 15px rgba(168,144,240,0.9) !important; }
@keyframes flyingFloat { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
@keyframes flyingSoar { 0%,100% { transform: translateY(0) rotate(-3deg); } 50% { transform: translateY(-5px) rotate(3deg); } }
.particles-flying::before, .particles-flying::after { content: 'üå¨Ô∏è'; position: absolute; font-size: 12px; animation: windBlow 1s linear infinite; opacity: 0; }
@keyframes windBlow { 0% { left: 100%; opacity: 1; } 100% { left: -20%; opacity: 0; } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: BUG üêõ */
/* ============================================ */
.element-bug {
    background: linear-gradient(135deg, rgba(168, 184, 32, 0.5) 0%, rgba(120, 140, 20, 0.5) 100%) !important;
    border: 2px solid #A8B820 !important;
    animation: bugCrawl 0.3s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(168, 184, 32, 0.6), inset 0 0 20px rgba(200, 210, 80, 0.3);
}
.element-bug .pokemon-sprite { animation: bugWiggle 0.2s ease-in-out infinite; filter: drop-shadow(0 0 6px rgba(168,184,32,0.8)); }
.element-bug .tile-number { color: #6B8E23 !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 10px rgba(168,184,32,0.8) !important; }
@keyframes bugCrawl { 0%,100% { transform: translateX(0); } 50% { transform: translateX(2px); } }
@keyframes bugWiggle { 0%,100% { transform: rotate(-1deg); } 50% { transform: rotate(1deg); } }
.particles-bug::before, .particles-bug::after { content: 'ü¶ã'; position: absolute; font-size: 10px; animation: bugFly 2s ease-in-out infinite; opacity: 0; }
@keyframes bugFly { 0%,100% { opacity: 0; transform: translate(0,0); } 50% { opacity: 1; transform: translate(10px, -10px); } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: FIGHTING ü•ä */
/* ============================================ */
.element-fighting {
    background: linear-gradient(135deg, rgba(192, 48, 40, 0.5) 0%, rgba(150, 30, 30, 0.5) 100%) !important;
    border: 3px solid #C03028 !important;
    animation: fightingPunch 0.15s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(192, 48, 40, 0.7), inset 0 0 25px rgba(220, 80, 70, 0.4);
}
.element-fighting .pokemon-sprite { animation: fightingStrike 0.2s ease-in-out infinite; filter: drop-shadow(0 0 10px rgba(192,48,40,0.9)); }
.element-fighting .tile-number { color: #B22222 !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 15px rgba(192,48,40,1) !important; font-weight: 900 !important; }
@keyframes fightingPunch { 0%,100% { transform: scale(1); } 50% { transform: scale(1.03); } }
@keyframes fightingStrike { 0%,100% { transform: translateX(0); } 25% { transform: translateX(-3px); } 75% { transform: translateX(3px); } }
.particles-fighting::before, .particles-fighting::after { content: 'üí•'; position: absolute; font-size: 14px; animation: fightingImpact 0.5s ease-out infinite; opacity: 0; }
@keyframes fightingImpact { 0% { opacity: 1; transform: scale(0.5); } 100% { opacity: 0; transform: scale(1.5); } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: GHOST üëª */
/* ============================================ */
.element-ghost {
    background: linear-gradient(135deg, rgba(112, 88, 152, 0.6) 0%, rgba(80, 50, 120, 0.6) 100%) !important;
    border: 2px solid #705898 !important;
    animation: ghostPhase 2s ease-in-out infinite;
    box-shadow: 0 0 25px rgba(112, 88, 152, 0.7), inset 0 0 30px rgba(150, 120, 200, 0.4);
}
.element-ghost .pokemon-sprite { animation: ghostFloat 1.5s ease-in-out infinite; filter: drop-shadow(0 0 15px rgba(112,88,152,0.9)) opacity(0.9); }
.element-ghost .tile-number { color: #4B0082 !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 20px rgba(112,88,152,1) !important; }
@keyframes ghostPhase { 0%,100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.8; transform: scale(1.02); } }
@keyframes ghostFloat { 0%,100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-8px) rotate(5deg); } }
.particles-ghost::before, .particles-ghost::after { content: 'üëÅÔ∏è'; position: absolute; font-size: 10px; animation: ghostEyes 2s ease-in-out infinite; opacity: 0; }
@keyframes ghostEyes { 0%,100% { opacity: 0; } 50% { opacity: 1; } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: DARK üåë */
/* ============================================ */
.element-dark {
    background: linear-gradient(135deg, rgba(112, 88, 72, 0.7) 0%, rgba(40, 30, 30, 0.7) 100%) !important;
    border: 2px solid #705848 !important;
    animation: darkPulse 1.5s ease-in-out infinite;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.8), inset 0 0 35px rgba(80, 60, 60, 0.5);
}
.element-dark .pokemon-sprite { animation: darkLurk 1s ease-in-out infinite; filter: drop-shadow(0 0 12px rgba(0,0,0,0.9)) brightness(0.9); }
.element-dark .tile-number { color: #1C1C1C !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 15px rgba(100,80,80,1), 0 0 30px rgba(0,0,0,0.8) !important; }
@keyframes darkPulse { 0%,100% { box-shadow: 0 0 30px rgba(0,0,0,0.8); } 50% { box-shadow: 0 0 50px rgba(0,0,0,1); } }
@keyframes darkLurk { 0%,100% { transform: scale(1); } 50% { transform: scale(0.98); } }
.particles-dark::before, .particles-dark::after { content: 'üåë'; position: absolute; font-size: 10px; animation: darkOrb 1.5s ease-in-out infinite; opacity: 0; }
@keyframes darkOrb { 0%,100% { opacity: 0; transform: scale(0.5); } 50% { opacity: 0.8; transform: scale(1); } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: STEEL ‚öîÔ∏è */
/* ============================================ */
.element-steel {
    background: linear-gradient(135deg, rgba(184, 184, 208, 0.6) 0%, rgba(140, 140, 170, 0.6) 100%) !important;
    border: 3px solid #B8B8D0 !important;
    animation: steelShine 1s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(184, 184, 208, 0.7), inset 0 0 25px rgba(220, 220, 240, 0.5);
}
.element-steel .pokemon-sprite { animation: steelGlint 0.5s ease-in-out infinite; filter: drop-shadow(0 0 10px rgba(184,184,208,1)) brightness(1.1) contrast(1.1); }
.element-steel .tile-number { color: #4682B4 !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 15px rgba(184,184,208,1), 0 0 30px rgba(140,140,170,0.8) !important; }
@keyframes steelShine { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.2); } }
@keyframes steelGlint { 0%,100% { filter: brightness(1.1); } 50% { filter: brightness(1.3); } }
.particles-steel::before, .particles-steel::after { content: '‚ú®'; position: absolute; font-size: 12px; animation: steelSparkle 0.8s ease-out infinite; opacity: 0; }
@keyframes steelSparkle { 0% { opacity: 1; transform: scale(0.5); } 100% { opacity: 0; transform: scale(1.2); } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: FAIRY üßö */
/* ============================================ */
.element-fairy {
    background: linear-gradient(135deg, rgba(238, 153, 172, 0.5) 0%, rgba(255, 182, 193, 0.5) 100%) !important;
    border: 2px solid #EE99AC !important;
    animation: fairySparkle 1s ease-in-out infinite;
    box-shadow: 0 0 25px rgba(238, 153, 172, 0.7), inset 0 0 30px rgba(255, 200, 210, 0.4);
}
.element-fairy .pokemon-sprite { animation: fairyDance 1.2s ease-in-out infinite; filter: drop-shadow(0 0 12px rgba(238,153,172,1)) brightness(1.1); }
.element-fairy .tile-number { color: #FF69B4 !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 20px rgba(238,153,172,1), 0 0 35px rgba(255,105,180,0.8) !important; }
@keyframes fairySparkle { 0%,100% { box-shadow: 0 0 25px rgba(238,153,172,0.7); } 50% { box-shadow: 0 0 40px rgba(255,182,193,1); } }
@keyframes fairyDance { 0%,100% { transform: translateY(0) rotate(-3deg); } 50% { transform: translateY(-5px) rotate(3deg); } }
.particles-fairy::before, .particles-fairy::after { content: 'üíñ'; position: absolute; font-size: 12px; animation: fairyHeart 1.5s ease-in-out infinite; opacity: 0; }
@keyframes fairyHeart { 0%,100% { opacity: 0; transform: scale(0.5) translateY(0); } 50% { opacity: 1; transform: scale(1) translateY(-15px); } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: COSMIC üåå */
/* ============================================ */
.element-cosmic {
    background: linear-gradient(135deg, rgba(61, 26, 120, 0.7) 0%, rgba(20, 10, 60, 0.7) 100%) !important;
    border: 2px solid #3D1A78 !important;
    animation: cosmicWarp 2s ease-in-out infinite;
    box-shadow: 0 0 35px rgba(100, 50, 200, 0.8), 0 0 70px rgba(50, 20, 150, 0.5), inset 0 0 40px rgba(150, 100, 255, 0.4);
}
.element-cosmic .pokemon-sprite { animation: cosmicOrbit 3s linear infinite; filter: drop-shadow(0 0 20px rgba(100,50,200,1)) brightness(1.2); }
.element-cosmic .tile-number { color: #9370DB !important; text-shadow: 2px 2px 4px rgba(255,255,255,1), 0 0 25px rgba(100,50,200,1), 0 0 50px rgba(150,100,255,0.9) !important; }
@keyframes cosmicWarp { 0%,100% { transform: scale(1); filter: hue-rotate(0deg); } 50% { transform: scale(1.03); filter: hue-rotate(20deg); } }
@keyframes cosmicOrbit { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.particles-cosmic::before, .particles-cosmic::after { content: '‚≠ê'; position: absolute; font-size: 10px; animation: cosmicStar 2s linear infinite; opacity: 0; }
@keyframes cosmicStar { 0% { opacity: 0; transform: scale(0) rotate(0deg); } 50% { opacity: 1; transform: scale(1) rotate(180deg); } 100% { opacity: 0; transform: scale(0) rotate(360deg); } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: SHADOW üñ§ */
/* ============================================ */
.element-shadow {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.9) 0%, rgba(10, 10, 20, 0.9) 100%) !important;
    border: 3px solid #1A1A2E !important;
    animation: shadowConsume 1s ease-in-out infinite;
    box-shadow: 0 0 40px rgba(0, 0, 0, 1), 0 0 80px rgba(20, 20, 40, 0.8), inset 0 0 50px rgba(50, 50, 80, 0.5);
}
.element-shadow .pokemon-sprite { animation: shadowMerge 1.5s ease-in-out infinite; filter: drop-shadow(0 0 25px rgba(0,0,0,1)) brightness(0.8) contrast(1.2); }
.element-shadow .tile-number { color: #2F2F4F !important; text-shadow: 3px 3px 6px rgba(255,255,255,1), 0 0 30px rgba(50,50,100,1), 0 0 60px rgba(0,0,0,1) !important; }
@keyframes shadowConsume { 0%,100% { box-shadow: 0 0 40px rgba(0,0,0,1); transform: scale(1); } 50% { box-shadow: 0 0 60px rgba(0,0,0,1), 0 0 100px rgba(20,20,40,0.9); transform: scale(1.02); } }
@keyframes shadowMerge { 0%,100% { opacity: 1; } 50% { opacity: 0.7; } }
.particles-shadow::before, .particles-shadow::after { content: 'üñ§'; position: absolute; font-size: 12px; animation: shadowVoid 1.5s ease-in-out infinite; opacity: 0; }
@keyframes shadowVoid { 0%,100% { opacity: 0; transform: scale(1.5); } 50% { opacity: 0.8; transform: scale(0.5); } }

/* ============================================ */
/* –°–¢–ò–•–ò–Ø: LEGENDARY ‚ú® */
/* ============================================ */
.element-legendary {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.6) 0%, rgba(255, 180, 0, 0.6) 50%, rgba(255, 140, 0, 0.6) 100%) !important;
    border: 4px solid #FFD700 !important;
    animation: legendaryGlory 1s ease-in-out infinite;
    box-shadow: 0 0 50px rgba(255, 215, 0, 1), 0 0 100px rgba(255, 180, 0, 0.8), 0 0 150px rgba(255, 140, 0, 0.5), inset 0 0 60px rgba(255, 255, 200, 0.5);
}
.element-legendary .pokemon-sprite { animation: legendaryAscend 1s ease-in-out infinite; filter: drop-shadow(0 0 30px rgba(255,215,0,1)) brightness(1.3) saturate(1.2); }
.element-legendary .tile-number { color: #B8860B !important; text-shadow: 3px 3px 6px rgba(255,255,255,1), 0 0 30px rgba(255,215,0,1), 0 0 60px rgba(255,180,0,1), 0 0 90px rgba(255,140,0,0.8) !important; animation: legendaryText 0.5s ease-in-out infinite alternate; }
@keyframes legendaryGlory { 0%,100% { transform: scale(1); filter: hue-rotate(0deg); } 50% { transform: scale(1.05); filter: hue-rotate(10deg); } }
@keyframes legendaryAscend { 0%,100% { transform: translateY(0) scale(1); } 50% { transform: translateY(-8px) scale(1.1); } }
@keyframes legendaryText { 0% { transform: scale(1); } 100% { transform: scale(1.15); } }
.particles-legendary::before, .particles-legendary::after { content: '‚ú®'; position: absolute; font-size: 16px; animation: legendarySparkle 0.6s ease-out infinite; opacity: 0; }
.particles-legendary::before { top: 10%; left: 10%; animation-delay: 0s; }
.particles-legendary::after { bottom: 10%; right: 10%; animation-delay: 0.3s; content: 'üåü'; }
@keyframes legendarySparkle { 0% { opacity: 1; transform: scale(0.3) rotate(0deg); } 100% { opacity: 0; transform: scale(1.5) rotate(180deg); } }

/* ============================================ */
/* –ë–ï–ô–î–ñ –°–¢–ò–•–ò–ò */
/* ============================================ */
.element-badge {
    position: absolute;
    top: 3px;
    right: 3px;
    font-size: 14px;
    z-index: 5;
    animation: badgePulse 1.5s ease-in-out infinite;
    filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.3));
}

@keyframes badgePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∞—Å—Ç–∏—Ü */
.element-particles {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: 3;
}

/* ============================================ */
/* –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û –°–ú–ï–ù–ï –°–¢–ò–•–ò–ò */
/* ============================================ */

.element-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 9999;
    animation: notificationAppear 0.5s ease-out;
}

.element-notification.fade-out {
    animation: notificationFadeOut 0.5s ease-out forwards;
}

.element-notification-content {
    padding: 30px 50px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 10px 50px rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
}

.element-notification-emoji {
    display: block;
    font-size: 80px;
    margin-bottom: 15px;
    animation: emojiPulse 0.5s ease-in-out infinite alternate;
}

.element-notification-text {
    display: block;
    font-size: 32px;
    font-weight: 900;
    color: white;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    margin-bottom: 10px;
}

.element-notification-score {
    display: block;
    font-size: 18px;
    color: rgba(255, 255, 255, 0.9);
    font-weight: bold;
}

@keyframes notificationAppear {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

@keyframes notificationFadeOut {
    0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.2); }
}

@keyframes emojiPulse {
    0% { transform: scale(1); }
    100% { transform: scale(1.2); }
}

/* –°—Ç–∏–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∏—Ö–∏–∏ (22 —Å—Ç–∏—Ö–∏–∏) */
.element-notification-content.element-normal { background: linear-gradient(135deg, rgba(168, 168, 120, 0.95), rgba(200, 200, 170, 0.95)); }
.element-notification-content.element-fire { background: linear-gradient(135deg, rgba(240, 128, 48, 0.95), rgba(255, 80, 0, 0.95)); }
.element-notification-content.element-water { background: linear-gradient(135deg, rgba(104, 144, 240, 0.95), rgba(0, 100, 200, 0.95)); }
.element-notification-content.element-electric { background: linear-gradient(135deg, rgba(248, 208, 48, 0.95), rgba(255, 230, 0, 0.95)); }
.element-notification-content.element-grass { background: linear-gradient(135deg, rgba(120, 200, 80, 0.95), rgba(60, 150, 40, 0.95)); }
.element-notification-content.element-poison { background: linear-gradient(135deg, rgba(160, 64, 160, 0.95), rgba(100, 40, 130, 0.95)); }
.element-notification-content.element-ground { background: linear-gradient(135deg, rgba(224, 192, 104, 0.95), rgba(180, 140, 60, 0.95)); }
.element-notification-content.element-flying { background: linear-gradient(135deg, rgba(168, 144, 240, 0.95), rgba(120, 180, 255, 0.95)); }
.element-notification-content.element-bug { background: linear-gradient(135deg, rgba(168, 184, 32, 0.95), rgba(120, 140, 20, 0.95)); }
.element-notification-content.element-rock { background: linear-gradient(135deg, rgba(184, 160, 56, 0.95), rgba(140, 110, 40, 0.95)); }
.element-notification-content.element-ice { background: linear-gradient(135deg, rgba(152, 216, 216, 0.95), rgba(100, 180, 220, 0.95)); }
.element-notification-content.element-fighting { background: linear-gradient(135deg, rgba(192, 48, 40, 0.95), rgba(150, 30, 30, 0.95)); }
.element-notification-content.element-psychic { background: linear-gradient(135deg, rgba(248, 88, 136, 0.95), rgba(180, 60, 180, 0.95)); }
.element-notification-content.element-ghost { background: linear-gradient(135deg, rgba(112, 88, 152, 0.95), rgba(80, 50, 120, 0.95)); }
.element-notification-content.element-dark { background: linear-gradient(135deg, rgba(112, 88, 72, 0.95), rgba(40, 30, 30, 0.95)); }
.element-notification-content.element-steel { background: linear-gradient(135deg, rgba(184, 184, 208, 0.95), rgba(140, 140, 170, 0.95)); }
.element-notification-content.element-fairy { background: linear-gradient(135deg, rgba(238, 153, 172, 0.95), rgba(255, 182, 193, 0.95)); }
.element-notification-content.element-dragon { background: linear-gradient(135deg, rgba(112, 56, 248, 0.95), rgba(80, 0, 180, 0.95)); }
.element-notification-content.element-cosmic { background: linear-gradient(135deg, rgba(61, 26, 120, 0.95), rgba(20, 10, 60, 0.95)); }
.element-notification-content.element-shadow { background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(10, 10, 20, 0.95)); }
.element-notification-content.element-legendary { background: linear-gradient(135deg, rgba(255, 215, 0, 0.95), rgba(255, 180, 0, 0.95)); animation: legendaryNotification 0.5s ease-in-out infinite alternate; }
@keyframes legendaryNotification { 0% { box-shadow: 0 0 30px rgba(255,215,0,0.8); } 100% { box-shadow: 0 0 60px rgba(255,215,0,1); } }

/* ============================================ */
/* –ò–ù–î–ò–ö–ê–¢–û–† –¢–ï–ö–£–©–ï–ô –°–¢–ò–•–ò–ò */
/* ============================================ */

.element-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
}

.indicator-emoji {
    font-size: 24px;
    animation: indicatorPulse 1.5s ease-in-out infinite;
}

.indicator-name {
    font-size: 12px;
    letter-spacing: 1px;
    color: white;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

@keyframes indicatorPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.15); }
}

/* –¶–≤–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∏—Ö–∏–∏ (22 —Å—Ç–∏—Ö–∏–∏) */
.element-indicator-normal { background: linear-gradient(135deg, #A8A878, #C8C8AA); }
.element-indicator-fire { background: linear-gradient(135deg, #F08030, #FF4500); }
.element-indicator-water { background: linear-gradient(135deg, #6890F0, #0064C8); }
.element-indicator-electric { background: linear-gradient(135deg, #F8D030, #FFE600); }
.element-indicator-grass { background: linear-gradient(135deg, #78C850, #3C9628); }
.element-indicator-poison { background: linear-gradient(135deg, #A040A0, #642882); }
.element-indicator-ground { background: linear-gradient(135deg, #E0C068, #B48C3C); }
.element-indicator-flying { background: linear-gradient(135deg, #A890F0, #78B4FF); }
.element-indicator-bug { background: linear-gradient(135deg, #A8B820, #788C14); }
.element-indicator-rock { background: linear-gradient(135deg, #B8A038, #8C6E28); }
.element-indicator-ice { background: linear-gradient(135deg, #98D8D8, #64B4DC); }
.element-indicator-fighting { background: linear-gradient(135deg, #C03028, #961E1E); }
.element-indicator-psychic { background: linear-gradient(135deg, #F85888, #B43CB4); }
.element-indicator-ghost { background: linear-gradient(135deg, #705898, #503278); }
.element-indicator-dark { background: linear-gradient(135deg, #705848, #281E1E); }
.element-indicator-steel { background: linear-gradient(135deg, #B8B8D0, #8C8CAA); }
.element-indicator-fairy { background: linear-gradient(135deg, #EE99AC, #FFB6C1); }
.element-indicator-dragon { background: linear-gradient(135deg, #7038F8, #5000B4); }
.element-indicator-cosmic { background: linear-gradient(135deg, #3D1A78, #140A3C); }
.element-indicator-shadow { background: linear-gradient(135deg, #1A1A2E, #0A0A14); }
.element-indicator-legendary { background: linear-gradient(135deg, #FFD700, #FFB400); animation: legendaryIndicator 0.5s ease-in-out infinite alternate; }
@keyframes legendaryIndicator { 0% { box-shadow: 0 0 15px rgba(255,215,0,0.6); } 100% { box-shadow: 0 0 30px rgba(255,215,0,1); } }

/* ============================================ */
/* –¢–ï–ú–´ –§–û–ù–ê –î–õ–Ø GRID –ü–û –°–¢–ò–•–ò–Ø–ú (22 —Å—Ç–∏—Ö–∏–∏) */
/* ============================================ */

.element-theme-normal { background: #bbada0; }
.element-theme-fire { background: linear-gradient(135deg, #8B4513, #CD853F); box-shadow: inset 0 0 30px rgba(255, 100, 0, 0.3); }
.element-theme-water { background: linear-gradient(135deg, #2E5090, #4682B4); box-shadow: inset 0 0 30px rgba(100, 150, 255, 0.3); }
.element-theme-electric { background: linear-gradient(135deg, #B8860B, #DAA520); box-shadow: inset 0 0 30px rgba(255, 230, 0, 0.3); }
.element-theme-grass { background: linear-gradient(135deg, #228B22, #32CD32); box-shadow: inset 0 0 30px rgba(100, 200, 100, 0.3); }
.element-theme-poison { background: linear-gradient(135deg, #6B286B, #9040A0); box-shadow: inset 0 0 30px rgba(160, 64, 160, 0.3); }
.element-theme-ground { background: linear-gradient(135deg, #8B6914, #C8A848); box-shadow: inset 0 0 30px rgba(200, 160, 80, 0.3); }
.element-theme-flying { background: linear-gradient(135deg, #6878B0, #A8C0F0); box-shadow: inset 0 0 30px rgba(168, 144, 240, 0.3); }
.element-theme-bug { background: linear-gradient(135deg, #607010, #90A828); box-shadow: inset 0 0 30px rgba(168, 184, 32, 0.3); }
.element-theme-rock { background: linear-gradient(135deg, #8B7355, #A0826D); box-shadow: inset 0 0 30px rgba(140, 110, 40, 0.3); }
.element-theme-ice { background: linear-gradient(135deg, #4682B4, #87CEEB); box-shadow: inset 0 0 30px rgba(200, 240, 255, 0.3); }
.element-theme-fighting { background: linear-gradient(135deg, #701818, #A03030); box-shadow: inset 0 0 30px rgba(192, 48, 40, 0.3); }
.element-theme-psychic { background: linear-gradient(135deg, #9932CC, #DA70D6); box-shadow: inset 0 0 30px rgba(250, 100, 200, 0.3); }
.element-theme-ghost { background: linear-gradient(135deg, #382850, #604878); box-shadow: inset 0 0 30px rgba(112, 88, 152, 0.3); }
.element-theme-dark { background: linear-gradient(135deg, #181018, #382830); box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5); }
.element-theme-steel { background: linear-gradient(135deg, #606880, #989CB8); box-shadow: inset 0 0 30px rgba(184, 184, 208, 0.3); }
.element-theme-fairy { background: linear-gradient(135deg, #C06080, #F0A0B0); box-shadow: inset 0 0 30px rgba(238, 153, 172, 0.3); }
.element-theme-dragon { background: linear-gradient(135deg, #4B0082, #8A2BE2); box-shadow: inset 0 0 30px rgba(150, 100, 255, 0.3); }
.element-theme-cosmic { background: linear-gradient(135deg, #100828, #281050); box-shadow: inset 0 0 40px rgba(100, 50, 200, 0.4); }
.element-theme-shadow { background: linear-gradient(135deg, #080810, #101020); box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8); }
.element-theme-legendary { background: linear-gradient(135deg, #806000, #C09000); box-shadow: inset 0 0 40px rgba(255, 215, 0, 0.5); animation: legendaryTheme 1s ease-in-out infinite alternate; }
@keyframes legendaryTheme { 0% { box-shadow: inset 0 0 40px rgba(255, 215, 0, 0.5); } 100% { box-shadow: inset 0 0 60px rgba(255, 215, 0, 0.8); } }

/* –°—Ç–∏–ª–∏ —è—á–µ–µ–∫ –ø–æ —Å—Ç–∏—Ö–∏—è–º (22 —Å—Ç–∏—Ö–∏–∏) */
.cell-fire { background: rgba(255, 100, 0, 0.2); }
.cell-water { background: rgba(100, 150, 255, 0.2); }
.cell-electric { background: rgba(255, 230, 0, 0.2); }
.cell-grass { background: rgba(100, 200, 100, 0.2); }
.cell-poison { background: rgba(160, 64, 160, 0.2); }
.cell-ground { background: rgba(200, 160, 80, 0.2); }
.cell-flying { background: rgba(168, 144, 240, 0.2); }
.cell-bug { background: rgba(168, 184, 32, 0.2); }
.cell-rock { background: rgba(180, 150, 100, 0.2); }
.cell-ice { background: rgba(200, 240, 255, 0.2); }
.cell-fighting { background: rgba(192, 48, 40, 0.2); }
.cell-psychic { background: rgba(250, 100, 200, 0.2); }
.cell-ghost { background: rgba(112, 88, 152, 0.2); }
.cell-dark { background: rgba(40, 30, 30, 0.3); }
.cell-steel { background: rgba(184, 184, 208, 0.2); }
.cell-fairy { background: rgba(238, 153, 172, 0.2); }
.cell-dragon { background: rgba(150, 100, 255, 0.2); }
.cell-cosmic { background: rgba(100, 50, 200, 0.2); }
.cell-shadow { background: rgba(0, 0, 0, 0.3); }
.cell-legendary { background: rgba(255, 215, 0, 0.2); }

.tile-128 .tile-number { font-size: 28px; }
.tile-256 .tile-number { font-size: 28px; }
.tile-512 .tile-number { font-size: 26px; }
.tile-1024 .tile-number { font-size: 24px; }
.tile-2048 .tile-number { font-size: 22px; }
.tile-super .tile-number { font-size: 20px; }

.game-over {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(238, 228, 218, 0.9);
    border-radius: 6px;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 10;
}

.game-over.show {
    display: flex;
}

.game-over-message {
    text-align: center;
    color: #776e65;
}

.game-over-message h2 {
    margin-bottom: 20px;
    font-size: 48px;
}

.game-over-message button {
    background: #8f7a66;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 15px 30px;
    min-height: 48px;
    min-width: 120px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.game-over-message button:hover {
    background: #9f8a76;
}

/* Web3 –∫–Ω–æ–ø–∫–∏ */
.web3-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-bottom: 20px;
}

.web3-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 24px;
    min-height: 44px;
    min-width: 44px;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.web3-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

.web3-btn:active {
    transform: translateY(0);
}

.web3-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.gm-btn {
    background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
    color: #333;
}

.gm-btn:hover {
    background: linear-gradient(135deg, #fda085 0%, #f6d365 100%);
}

.deploy-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.deploy-btn:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
}

.test-btn {
    background: linear-gradient(135deg, #F08030 0%, #FF4500 50%, #7038F8 100%);
    color: white;
    animation: testBtnGlow 2s ease-in-out infinite;
}

.test-btn:hover {
    background: linear-gradient(135deg, #7038F8 0%, #FF4500 50%, #F08030 100%);
    transform: translateY(-2px) scale(1.05);
}

@keyframes testBtnGlow {
    0%, 100% { box-shadow: 0 4px 15px rgba(240, 128, 48, 0.4); }
    50% { box-shadow: 0 4px 25px rgba(112, 56, 248, 0.6); }
}

/* –ü–æ–¥—Å–∫–∞–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
.test-mode-hint {
    display: none;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 12px 20px;
    border-radius: 10px;
    text-align: center;
    margin-bottom: 15px;
    font-size: 14px;
    animation: hintPulse 2s ease-in-out infinite;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
}

.test-mode-hint strong {
    color: #FFD700;
}

@keyframes hintPulse {
    0%, 100% { transform: scale(1); box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); }
    50% { transform: scale(1.02); box-shadow: 0 6px 25px rgba(118, 75, 162, 0.6); }
}

.btn-icon {
    font-size: 20px;
}

.btn-text {
    letter-spacing: 0.5px;
}

.web3-status {
    text-align: center;
    margin-bottom: 15px;
    padding: 10px;
    border-radius: 8px;
    font-size: 14px;
    min-height: 0;
    transition: all 0.3s ease;
}

.web3-status:empty {
    display: none;
    padding: 0;
    margin: 0;
}

.web3-status.success {
    background: rgba(76, 175, 80, 0.2);
    color: #2e7d32;
}

.web3-status.error {
    background: rgba(244, 67, 54, 0.2);
    color: #c62828;
}

.web3-status.loading {
    background: rgba(33, 150, 243, 0.2);
    color: #1565c0;
}

.wallet-info {
    text-align: center;
    margin-bottom: 15px;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 12px;
    font-family: monospace;
    min-height: 20px;
}

.wallet-info.connected {
    background: rgba(76, 175, 80, 0.15);
    color: #2e7d32;
    border: 1px solid rgba(76, 175, 80, 0.3);
}

.wallet-name {
    font-family: 'Segoe UI', Arial, sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: #1a73e8;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.instructions {
    text-align: center;
    color: #776e65;
    font-size: 14px;
    line-height: 1.6;
}

.instructions-desktop {
    display: block;
}

.instructions-mobile {
    display: none;
}

@media (max-width: 600px) {
    .instructions-desktop {
        display: none;
    }
    .instructions-mobile {
        display: block;
    }
}

/* GM Counter */
.gm-counter-container {
    margin-bottom: 20px;
    display: flex;
    justify-content: center;
}

.gm-counter-box {
    background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
    border-radius: 12px;
    padding: 15px 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    min-width: 200px;
    transition: all 0.3s ease;
}

.gm-counter-box:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

.gm-counter-icon {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pulse 2s ease-in-out infinite;
    flex-shrink: 0;
}

.gm-pokemon-sprite {
    width: 100%;
    height: 100%;
    object-fit: contain;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

@keyframes celebrate {
    0% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.1) rotate(-3deg);
    }
    50% {
        transform: scale(1.15) rotate(3deg);
    }
    75% {
        transform: scale(1.1) rotate(-3deg);
    }
    100% {
        transform: scale(1) rotate(0deg);
    }
}

.gm-counter-content {
    flex: 1;
    text-align: left;
}

.gm-counter-label {
    color: rgba(0, 0, 0, 0.7);
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
}

.gm-counter-value {
    color: #333;
    font-size: 32px;
    font-weight: 900;
    line-height: 1;
    margin-bottom: 4px;
    text-shadow: 0 2px 4px rgba(255, 255, 255, 0.5);
    transition: transform 0.2s ease;
}

.gm-counter-date {
    color: rgba(0, 0, 0, 0.6);
    font-size: 11px;
    font-weight: 500;
}

/* ============================================ */
/* –ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–µ –ø–æ–∫–µ–º–æ–Ω—ã */
/* ============================================ */

.game-wrapper {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    gap: 20px;
    width: 100%;
    max-width: 900px;
}

.motivator-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    min-width: 140px;
    max-width: 160px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
    animation: motivatorFloat 3s ease-in-out infinite;
}

.motivator-left {
    animation-delay: 0s;
}

.motivator-right {
    animation-delay: 1.5s;
}

@keyframes motivatorFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.motivator-container:hover {
    transform: scale(1.05);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
}

.motivator-bubble {
    background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
    border-radius: 20px;
    padding: 12px 16px;
    position: relative;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    border: 2px solid #ffd54f;
    max-width: 140px;
    text-align: center;
    animation: bubblePulse 2s ease-in-out infinite;
}

@keyframes bubblePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
}

.motivator-bubble::after {
    content: '';
    position: absolute;
    bottom: -12px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 12px solid transparent;
    border-right: 12px solid transparent;
    border-top: 12px solid #fff59d;
}

.motivator-bubble::before {
    content: '';
    position: absolute;
    bottom: -16px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 14px solid transparent;
    border-right: 14px solid transparent;
    border-top: 14px solid #ffd54f;
}

.bubble-text {
    font-size: 13px;
    font-weight: bold;
    color: #333;
    line-height: 1.4;
    display: block;
}

.motivator-pokemon {
    width: 100px;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
    border-radius: 50%;
    animation: pokemonBounce 1s ease-in-out infinite;
}

@keyframes pokemonBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

.motivator-sprite {
    width: 80px;
    height: 80px;
    object-fit: contain;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    transition: all 0.3s ease;
}

.motivator-container:hover .motivator-sprite {
    transform: scale(1.15);
    filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4));
}

.motivator-name {
    font-size: 14px;
    font-weight: bold;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 1px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –º–æ—Ç–∏–≤–∞—Ü–∏–∏ */
.motivator-container.level-starter .motivator-bubble {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-color: #64b5f6;
}
.motivator-container.level-starter .motivator-bubble::after {
    border-top-color: #bbdefb;
}
.motivator-container.level-starter .motivator-bubble::before {
    border-top-color: #64b5f6;
}

.motivator-container.level-good .motivator-bubble {
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    border-color: #81c784;
}
.motivator-container.level-good .motivator-bubble::after {
    border-top-color: #c8e6c9;
}
.motivator-container.level-good .motivator-bubble::before {
    border-top-color: #81c784;
}

.motivator-container.level-great .motivator-bubble {
    background: linear-gradient(135deg, #fff3e0 0%, #ffcc80 100%);
    border-color: #ffb74d;
}
.motivator-container.level-great .motivator-bubble::after {
    border-top-color: #ffcc80;
}
.motivator-container.level-great .motivator-bubble::before {
    border-top-color: #ffb74d;
}

.motivator-container.level-amazing .motivator-bubble {
    background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
    border-color: #f48fb1;
}
.motivator-container.level-amazing .motivator-bubble::after {
    border-top-color: #f8bbd9;
}
.motivator-container.level-amazing .motivator-bubble::before {
    border-top-color: #f48fb1;
}

.motivator-container.level-legendary .motivator-bubble {
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border-color: #ba68c8;
    animation: legendaryGlow 1.5s ease-in-out infinite;
}
.motivator-container.level-legendary .motivator-bubble::after {
    border-top-color: #e1bee7;
}
.motivator-container.level-legendary .motivator-bubble::before {
    border-top-color: #ba68c8;
}

.motivator-container.level-god .motivator-bubble {
    background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
    border-color: #ffd54f;
    animation: godGlow 1s ease-in-out infinite;
}
.motivator-container.level-god .motivator-bubble::after {
    border-top-color: #ffecb3;
}
.motivator-container.level-god .motivator-bubble::before {
    border-top-color: #ffd54f;
}

@keyframes legendaryGlow {
    0%, 100% { box-shadow: 0 0 10px rgba(186, 104, 200, 0.5); }
    50% { box-shadow: 0 0 25px rgba(186, 104, 200, 0.8); }
}

@keyframes godGlow {
    0%, 100% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.6); }
    50% { box-shadow: 0 0 35px rgba(255, 215, 0, 1); }
}

/* ============================================ */
/* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤ */
/* ============================================ */

.language-selector {
    position: relative;
    margin-top: 10px;
}

.lang-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    min-height: 44px;
    min-width: 44px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 20px;
    color: white;
    font-size: 12px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.lang-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.lang-icon {
    font-size: 16px;
}

.lang-current {
    text-transform: uppercase;
    letter-spacing: 1px;
}

.lang-dropdown {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
    padding: 8px 0;
    margin-top: 8px;
    z-index: 100;
    display: none;
    min-width: 140px;
    max-height: 300px;
    overflow-y: auto;
    animation: dropdownFadeIn 0.2s ease;
}

.lang-dropdown.show {
    display: block;
}

@keyframes dropdownFadeIn {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

.lang-dropdown::-webkit-scrollbar {
    width: 6px;
}

.lang-dropdown::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.lang-dropdown::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 3px;
}

.lang-dropdown::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
}

.lang-option {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 16px;
    min-height: 44px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
    font-size: 13px;
    color: #333;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.lang-option:hover {
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
}

.lang-option.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.lang-option-flag {
    font-size: 18px;
    line-height: 1;
}

.lang-option-name {
    font-weight: 500;
}

.lang-option-code {
    font-size: 10px;
    opacity: 0.7;
    margin-left: auto;
    text-transform: uppercase;
}

/* –°–∫—Ä—ã–≤–∞–µ–º –º–æ—Ç–∏–≤–∞—Ç–æ—Ä—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
@media (max-width: 800px) {
    .game-wrapper {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
        gap: 12px;
    }
    
    /* –ò–≥—Ä–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É —Å–≤–µ—Ä—Ö—É */
    .container {
        order: 0;
        width: 100%;
        max-width: 500px;
    }
    
    /* –û–±–∞ –ø–æ–∫–µ–º–æ–Ω–∞ –≤ —Ä—è–¥ –ø–æ–¥ –∏–≥—Ä–æ–π */
    .motivator-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: auto;
        max-width: 160px;
        padding: 10px 12px;
        gap: 8px;
        order: 1;
    }
    
    .motivator-pokemon {
        width: 70px;
        height: 70px;
    }
    
    .motivator-sprite {
        width: 60px;
        height: 60px;
    }
    
    .motivator-bubble {
        max-width: 140px;
        padding: 8px 12px;
    }
    
    .motivator-bubble::after,
    .motivator-bubble::before {
        display: none;
    }
    
    .bubble-text {
        font-size: 12px;
    }
    
    .motivator-name {
        font-size: 11px;
    }
    
    .language-selector {
        margin-top: 5px;
    }
    
    .lang-btn {
        padding: 6px 10px;
        min-height: 38px;
        font-size: 11px;
    }
}

@media (max-width: 500px) {
    body {
        padding: max(12px, env(safe-area-inset-top)) max(12px, env(safe-area-inset-right)) max(12px, env(safe-area-inset-bottom)) max(12px, env(safe-area-inset-left));
    }

    .container {
        padding: 16px;
    }

    h1 {
        font-size: 36px;
        margin-bottom: 12px;
    }

    .score-container {
        margin-bottom: 12px;
        flex-wrap: wrap;
        gap: 8px;
    }

    .score-box {
        min-width: 90px;
        padding: 8px 14px;
    }

    .new-game-btn {
        padding: 10px 16px;
        font-size: 15px;
    }

    .game-container {
        padding: 8px;
        margin-bottom: 12px;
    }

    .grid-container {
        gap: 6px;
    }

    .cell {
        font-size: 28px;
    }

    .tile-number {
        font-size: 24px;
    }

    .tile-128 .tile-number { font-size: 22px; }
    .tile-256 .tile-number { font-size: 22px; }
    .tile-512 .tile-number { font-size: 20px; }
    .tile-1024 .tile-number { font-size: 18px; }
    .tile-2048 .tile-number { font-size: 16px; }

    .web3-buttons {
        gap: 8px;
        margin-bottom: 12px;
        flex-wrap: wrap;
        justify-content: center;
    }

    .web3-btn {
        padding: 10px 16px;
        font-size: 14px;
    }

    .gm-counter-container {
        margin-bottom: 12px;
    }

    .gm-counter-box {
        padding: 12px 16px;
        min-width: 160px;
    }

    .gm-counter-icon {
        width: 48px;
        height: 48px;
    }

    .gm-counter-value {
        font-size: 26px;
    }

    .instructions {
        font-size: 13px;
    }

    /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –º–æ—Ç–∏–≤–∞—Ç–æ—Ä—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
    .motivator-container {
        padding: 8px 10px;
        gap: 6px;
        border-radius: 14px;
        max-width: 48%;
        flex: 1;
    }
    
    .motivator-pokemon {
        width: 55px;
        height: 55px;
    }
    
    .motivator-sprite {
        width: 45px;
        height: 45px;
    }
    
    .motivator-bubble {
        padding: 6px 8px;
        max-width: 120px;
        border-radius: 12px;
    }
    
    .bubble-text {
        font-size: 10px;
    }
    
    .motivator-name {
        font-size: 9px;
    }
    
    .lang-btn {
        padding: 5px 8px;
        min-height: 34px;
        min-width: 34px;
        font-size: 10px;
    }
    
    .lang-icon {
        font-size: 14px;
    }
    
    /* –£–ø—Ä–æ—â–∞–µ–º —Ç—è–∂—ë–ª—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ */
    .tile {
        animation: none;
        transition: none;
    }
    
    .element-particles,
    .particles-fire,
    .particles-water,
    .particles-electric,
    .particles-grass,
    .particles-ice,
    .particles-dragon,
    .particles-psychic,
    .particles-legendary {
        display: none !important;
    }
    
    .motivator-container {
        animation: none;
    }
    
    .motivator-pokemon {
        animation: none;
    }
    
    .element-badge {
        animation: none;
    }
}

/* ============================================
   –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ (–º–æ–±–∏–ª—å–Ω–∞—è)
   ============================================ */
.scroll-hint {
    display: none;
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    color: #333;
    padding: 12px 20px;
    border-radius: 30px;
    font-size: 14px;
    font-weight: bold;
    text-align: center;
    box-shadow: 0 4px 20px rgba(255, 165, 0, 0.5);
    z-index: 1000;
    animation: scrollHintBounce 2s ease-in-out infinite;
    cursor: pointer;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.scroll-hint-text {
    display: block;
    margin-bottom: 4px;
}

.scroll-hint-arrow {
    font-size: 20px;
    animation: arrowBounce 1s ease-in-out infinite;
}

@keyframes scrollHintBounce {
    0%, 100% { 
        transform: translateX(-50%) translateY(0);
        box-shadow: 0 4px 20px rgba(255, 165, 0, 0.5);
    }
    50% { 
        transform: translateX(-50%) translateY(-8px);
        box-shadow: 0 8px 30px rgba(255, 165, 0, 0.7);
    }
}

@keyframes arrowBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(5px); }
}

.scroll-hint.hide {
    animation: scrollHintFadeOut 0.5s ease-out forwards;
}

@keyframes scrollHintFadeOut {
    to {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
        pointer-events: none;
    }
}

/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 800px) {
    .scroll-hint {
        display: block;
    }
}

@media (max-width: 500px) {
    .scroll-hint {
        padding: 10px 16px;
        font-size: 13px;
        bottom: 15px;
    }
    
    .scroll-hint-arrow {
        font-size: 18px;
    }
}

/* ============================================
   Welcome Screen - –ì—Ä–æ–∑–Ω—ã–π –ø–æ–∫–µ–º–æ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
   ============================================ */
.welcome-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    animation: welcomeAppear 0.5s ease-out;
}

@keyframes welcomeAppear {
    from {
        opacity: 0;
        transform: scale(1.1);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.welcome-screen.welcome-fade-out {
    animation: welcomeFadeOut 0.5s ease-out forwards;
}

@keyframes welcomeFadeOut {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.9);
    }
}

.welcome-content {
    text-align: center;
    padding: 40px;
}

.welcome-pokemon {
    margin-bottom: 20px;
    animation: pokemonFloat 3s ease-in-out infinite;
}

@keyframes pokemonFloat {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-20px) scale(1.05); }
}

.welcome-pokemon-img {
    width: 300px;
    height: 300px;
    object-fit: contain;
    filter: drop-shadow(0 0 30px rgba(240, 128, 48, 0.8));
    animation: pokemonGlow 2s ease-in-out infinite alternate;
}

@keyframes pokemonGlow {
    from { filter: drop-shadow(0 0 30px rgba(240, 128, 48, 0.8)); }
    to { filter: drop-shadow(0 0 50px rgba(240, 128, 48, 1)); }
}

.welcome-title {
    font-size: 48px;
    color: #fff;
    text-shadow: 0 0 20px rgba(240, 128, 48, 0.8);
    margin-bottom: 10px;
    animation: titlePulse 2s ease-in-out infinite;
}

@keyframes titlePulse {
    0%, 100% { text-shadow: 0 0 20px rgba(240, 128, 48, 0.8); }
    50% { text-shadow: 0 0 40px rgba(240, 128, 48, 1), 0 0 60px rgba(240, 128, 48, 0.5); }
}

.welcome-subtitle {
    font-size: 24px;
    color: #f8d030;
    margin-bottom: 15px;
}

.welcome-pokemon-name {
    font-size: 20px;
    color: #98d8d8;
    margin-bottom: 30px;
}

.welcome-btn {
    background: linear-gradient(135deg, #f08030 0%, #c03028 100%);
    color: #fff;
    border: none;
    padding: 18px 50px;
    min-height: 48px;
    min-width: 120px;
    font-size: 24px;
    font-weight: bold;
    border-radius: 15px;
    cursor: pointer;
    box-shadow: 0 5px 20px rgba(240, 128, 48, 0.5);
    transition: all 0.3s ease;
    animation: btnPulse 1.5s ease-in-out infinite;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

@keyframes btnPulse {
    0%, 100% { transform: scale(1); box-shadow: 0 5px 20px rgba(240, 128, 48, 0.5); }
    50% { transform: scale(1.05); box-shadow: 0 8px 30px rgba(240, 128, 48, 0.8); }
}

.welcome-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 10px 40px rgba(240, 128, 48, 1);
}

@media (max-width: 500px) {
    .welcome-pokemon-img {
        width: 200px;
        height: 200px;
    }
    
    .welcome-title {
        font-size: 32px;
    }
    
    .welcome-subtitle {
        font-size: 18px;
    }
    
    .welcome-btn {
        padding: 15px 40px;
        font-size: 20px;
    }
}

/* ============================================
   –°–ò–°–¢–ï–ú–ê –î–û–°–¢–ò–ñ–ï–ù–ò–ô
   ============================================ */

/* –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */
.achievements-toggle-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    min-height: 44px;
    min-width: 44px;
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.achievements-toggle-btn:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 25px rgba(255, 215, 0, 0.6);
}

.achievements-count {
    background: rgba(0, 0, 0, 0.2);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 12px;
}

/* –ü–∞–Ω–µ–ª—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */
.achievements-panel {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    backdrop-filter: blur(5px);
    animation: fadeIn 0.3s ease;
}

.achievements-panel.show {
    display: flex;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.achievements-panel-content {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    border-radius: 20px;
    width: 90%;
    max-width: 600px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.achievements-panel-content::-webkit-scrollbar {
    width: 8px;
}

.achievements-panel-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

.achievements-panel-content::-webkit-scrollbar-thumb {
    background: rgba(255, 215, 0, 0.5);
    border-radius: 4px;
}

.achievements-header {
    position: sticky;
    top: 0;
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    padding: 20px;
    border-radius: 20px 20px 0 0;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 15px;
    z-index: 10;
}

.achievements-header h2 {
    color: #333;
    font-size: 24px;
    margin: 0;
    flex: 1;
}

.achievements-progress {
    position: relative;
    width: 150px;
    height: 24px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 12px;
    overflow: hidden;
}

.achievements-progress-bar {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: linear-gradient(90deg, #4CAF50, #8BC34A);
    border-radius: 12px;
    transition: width 0.5s ease;
}

.achievements-progress span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 12px;
    font-weight: bold;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.achievements-close-btn {
    width: 44px;
    height: 44px;
    min-width: 44px;
    min-height: 44px;
    border-radius: 50%;
    border: none;
    background: rgba(0, 0, 0, 0.2);
    color: #333;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.2s ease;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.achievements-close-btn:hover {
    background: rgba(0, 0, 0, 0.4);
    transform: rotate(90deg);
}

/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
.achievements-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3);
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    transition: transform 0.2s ease;
}

.stat-item:hover {
    transform: scale(1.05);
}

.stat-icon {
    font-size: 24px;
    margin-bottom: 5px;
}

.stat-value {
    font-size: 18px;
    font-weight: bold;
    color: #FFD700;
}

.stat-label {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.7);
    text-transform: uppercase;
}

/* –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */
.achievements-list {
    padding: 20px;
}

.achievements-category {
    margin-bottom: 25px;
}

.achievements-category h3 {
    color: #FFD700;
    font-size: 16px;
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 2px solid rgba(255, 215, 0, 0.3);
}

.achievements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: 12px;
}

.achievement-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 12px 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    border: 2px solid transparent;
    transition: all 0.3s ease;
    cursor: default;
    min-height: 110px;
}

.achievement-item.unlocked {
    background: rgba(76, 175, 80, 0.2);
    border-color: rgba(76, 175, 80, 0.5);
}

.achievement-item.unlocked:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
}

.achievement-item.locked {
    opacity: 0.5;
}

.achievement-item.locked:hover {
    opacity: 0.7;
}

.achievement-item.legendary.unlocked {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 140, 0, 0.3) 100%);
    border-color: #FFD700;
    animation: legendaryShine 2s ease-in-out infinite;
}

@keyframes legendaryShine {
    0%, 100% { box-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
    50% { box-shadow: 0 0 25px rgba(255, 215, 0, 0.6); }
}

.achievement-icon {
    font-size: 32px;
    margin-bottom: 8px;
    transition: transform 0.3s ease;
}

.achievement-item:hover .achievement-icon {
    transform: scale(1.2);
}

.achievement-name {
    font-size: 11px;
    color: white;
    text-align: center;
    font-weight: 600;
    line-height: 1.3;
    margin-bottom: 4px;
}

.achievement-desc {
    font-size: 9px;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
    line-height: 1.2;
    padding: 0 2px;
}

.achievement-item.locked .achievement-desc {
    color: rgba(255, 255, 255, 0.4);
}

/* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ */
.achievement-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 11000;
    animation: achievementSlideIn 0.5s ease-out;
}

@keyframes achievementSlideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.achievement-notification.fade-out {
    animation: achievementSlideOut 0.5s ease-out forwards;
}

@keyframes achievementSlideOut {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.achievement-notification-content {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px 20px;
    background: linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%);
    border-radius: 15px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

.achievement-notification.legendary .achievement-notification-content {
    background: linear-gradient(135deg, #B8860B 0%, #FFD700 50%, #FFA500 100%);
    animation: legendaryPulse 0.5s ease-in-out infinite alternate;
}

@keyframes legendaryPulse {
    from { box-shadow: 0 8px 30px rgba(255, 215, 0, 0.4); }
    to { box-shadow: 0 8px 50px rgba(255, 215, 0, 0.8); }
}

.achievement-notification-icon {
    font-size: 48px;
    animation: iconBounce 0.5s ease-out;
}

@keyframes iconBounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
}

.achievement-notification-info {
    display: flex;
    flex-direction: column;
}

.achievement-notification-title {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.achievement-notification-name {
    font-size: 18px;
    font-weight: bold;
    color: white;
    margin: 3px 0;
}

.achievement-notification-desc {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.9);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 600px) {
    .achievements-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .achievements-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .achievement-notification {
        right: 10px;
        left: 10px;
    }
    
    .achievement-notification-content {
        width: 100%;
    }
    
    .achievement-notification-icon {
        font-size: 36px;
    }
    
    .achievement-notification-name {
        font-size: 16px;
    }
    
    .achievement-desc {
        font-size: 8px;
    }
}

@media (max-width: 400px) {
    .achievements-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .achievements-header h2 {
        font-size: 20px;
    }
    
    .achievements-progress {
        width: 100px;
    }
    
    .achievement-item {
        min-height: 100px;
        padding: 10px 6px;
    }
}

/* ============================================
   –°–ò–°–¢–ï–ú–ê –õ–ò–î–ï–†–ë–û–†–î–ê
   ============================================ */

.leaderboard-btn-container {
    display: flex;
    justify-content: center;
    margin-top: 15px;
}

.leaderboard-toggle-btn {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 24px;
    min-height: 44px;
    min-width: 44px;
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.leaderboard-toggle-btn:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 25px rgba(255, 215, 0, 0.6);
}

.best-score-badge {
    background: rgba(0, 0, 0, 0.2);
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 14px;
    font-weight: bold;
}

/* –ü–∞–Ω–µ–ª—å –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ */
.leaderboard-panel {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    backdrop-filter: blur(8px);
    animation: fadeIn 0.3s ease;
}

.leaderboard-panel.show {
    display: flex;
}

.leaderboard-panel-content {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    border-radius: 20px;
    width: 90%;
    max-width: 500px;
    max-height: 85vh;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(255, 215, 0, 0.2);
    animation: slideUp 0.3s ease;
}

.leaderboard-header {
    position: sticky;
    top: 0;
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    padding: 20px;
    border-radius: 20px 20px 0 0;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 15px;
    z-index: 10;
}

.leaderboard-header h2 {
    color: #333;
    font-size: 24px;
    margin: 0;
    flex: 1;
}

.leaderboard-best {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(0, 0, 0, 0.15);
    padding: 8px 16px;
    border-radius: 20px;
}

.best-label {
    font-size: 14px;
    color: rgba(0, 0, 0, 0.7);
    font-weight: 600;
}

.best-value {
    font-size: 20px;
    font-weight: bold;
    color: #333;
}

.leaderboard-close-btn {
    width: 44px;
    height: 44px;
    min-width: 44px;
    min-height: 44px;
    border-radius: 50%;
    border: none;
    background: rgba(0, 0, 0, 0.2);
    color: #333;
    font-size: 20px;
    cursor: pointer;
    transition: all 0.2s ease;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

.leaderboard-close-btn:hover {
    background: rgba(0, 0, 0, 0.4);
    transform: rotate(90deg);
}

/* –°–ø–∏—Å–æ–∫ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ */
.leaderboard-list {
    padding: 20px;
    max-height: 400px;
    overflow-y: auto;
}

.leaderboard-list::-webkit-scrollbar {
    width: 8px;
}

.leaderboard-list::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

.leaderboard-list::-webkit-scrollbar-thumb {
    background: rgba(255, 215, 0, 0.5);
    border-radius: 4px;
}

.leaderboard-empty {
    text-align: center;
    padding: 40px 20px;
    color: rgba(255, 255, 255, 0.6);
}

.leaderboard-empty-icon {
    font-size: 60px;
    margin-bottom: 15px;
    display: block;
}

.leaderboard-empty-text {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 8px;
}

.leaderboard-empty-hint {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.5);
}

/* –ó–∞–ø–∏—Å—å –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ */
.leaderboard-entry {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    margin-bottom: 10px;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.leaderboard-entry:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(5px);
}

.leaderboard-entry.top-1 {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 180, 0, 0.3) 100%);
    border-color: rgba(255, 215, 0, 0.5);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
}

.leaderboard-entry.top-2 {
    background: linear-gradient(135deg, rgba(192, 192, 192, 0.2) 0%, rgba(160, 160, 160, 0.2) 100%);
    border-color: rgba(192, 192, 192, 0.4);
}

.leaderboard-entry.top-3 {
    background: linear-gradient(135deg, rgba(205, 127, 50, 0.2) 0%, rgba(180, 100, 40, 0.2) 100%);
    border-color: rgba(205, 127, 50, 0.4);
}

.entry-rank {
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: bold;
    border-radius: 50%;
    flex-shrink: 0;
}

.leaderboard-entry.top-1 .entry-rank {
    background: linear-gradient(135deg, #FFD700, #FFA500);
    color: #333;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
}

.leaderboard-entry.top-2 .entry-rank {
    background: linear-gradient(135deg, #C0C0C0, #A0A0A0);
    color: #333;
}

.leaderboard-entry.top-3 .entry-rank {
    background: linear-gradient(135deg, #CD7F32, #B4642D);
    color: #fff;
}

.entry-rank.default {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.7);
}

.entry-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.entry-score {
    font-size: 22px;
    font-weight: bold;
    color: #FFD700;
}

.leaderboard-entry.top-1 .entry-score {
    animation: goldShine 2s ease-in-out infinite;
}

@keyframes goldShine {
    0%, 100% { text-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
    50% { text-shadow: 0 0 20px rgba(255, 215, 0, 0.8); }
}

.entry-date {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.6);
}

.entry-element {
    display: flex;
    align-items: center;
    gap: 5px;
    background: rgba(255, 255, 255, 0.1);
    padding: 6px 12px;
    border-radius: 15px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.9);
}

.entry-element-emoji {
    font-size: 18px;
}

/* Footer –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ */
.leaderboard-footer {
    padding: 15px 20px;
    background: rgba(0, 0, 0, 0.3);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: center;
}

.leaderboard-clear-btn {
    background: rgba(244, 67, 54, 0.2);
    border: 1px solid rgba(244, 67, 54, 0.4);
    color: #ff6b6b;
    padding: 10px 20px;
    min-height: 44px;
    border-radius: 10px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
    touch-action: manipulation;
}

.leaderboard-clear-btn:hover {
    background: rgba(244, 67, 54, 0.4);
    transform: scale(1.05);
}

/* –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥! */
.new-record-badge {
    background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);
    color: white;
    padding: 4px 10px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: bold;
    animation: recordPulse 1s ease-in-out infinite;
}

@keyframes recordPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —Ä–µ–∫–æ—Ä–¥–µ */
.record-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 11000;
    animation: recordAppear 0.5s ease-out;
}

@keyframes recordAppear {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

.record-notification.fade-out {
    animation: recordFadeOut 0.5s ease-out forwards;
}

@keyframes recordFadeOut {
    0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.2); }
}

.record-notification-content {
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    padding: 30px 50px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 10px 50px rgba(255, 215, 0, 0.5);
}

.record-trophy {
    font-size: 80px;
    display: block;
    margin-bottom: 15px;
    animation: trophyBounce 0.5s ease-out;
}

@keyframes trophyBounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
}

.record-title {
    font-size: 28px;
    font-weight: bold;
    color: #333;
    margin-bottom: 10px;
}

.record-score {
    font-size: 48px;
    font-weight: bold;
    color: #333;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ */
@media (max-width: 500px) {
    .leaderboard-panel-content {
        width: 95%;
        max-height: 90vh;
    }
    
    .leaderboard-header {
        padding: 15px;
    }
    
    .leaderboard-header h2 {
        font-size: 20px;
    }
    
    .leaderboard-entry {
        padding: 12px;
        gap: 10px;
    }
    
    .entry-rank {
        width: 38px;
        height: 38px;
        font-size: 16px;
    }
    
    .entry-score {
        font-size: 18px;
    }
    
    .entry-element {
        padding: 4px 8px;
        font-size: 11px;
    }
    
    .record-notification-content {
        padding: 25px 35px;
    }
    
    .record-trophy {
        font-size: 60px;
    }
    
    .record-title {
        font-size: 22px;
    }
    
    .record-score {
        font-size: 36px;
    }
}
